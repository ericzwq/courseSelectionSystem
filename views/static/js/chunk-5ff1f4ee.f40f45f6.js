(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ff1f4ee"],{2731:function(e,s,t){"use strict";t.r(s);var r=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("form",{staticClass:"l-container"},[t("h1",{staticClass:"l-title"},[e._v("学生选课系统-登录")]),t("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"l-username",attrs:{placeholder:"请输入账号"},model:{value:e.username,callback:function(s){e.username=s},expression:"username"}}),t("el-input",{staticClass:"l-password",attrs:{placeholder:"请输入密码","show-password":""},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.login(s)}},model:{value:e.password,callback:function(s){e.password=s},expression:"password"}}),t("div",{staticClass:"l-radioBox"},[t("el-radio-group",{staticClass:"l-radio",model:{value:e.level,callback:function(s){e.level=s},expression:"level"}},[t("el-radio",{attrs:{label:"students"}},[e._v("学生")]),t("el-radio",{attrs:{label:"teachers"}},[e._v("教师")]),t("el-radio",{attrs:{label:"admins"}},[e._v("管理员")])],1),t("div",[t("router-link",{staticStyle:{"font-size":"14px"},attrs:{to:"/findPsw"}},[e._v("忘记密码？")]),t("router-link",{staticClass:"l-register",staticStyle:{"font-size":"14px"},attrs:{to:"/register"}},[e._v("注册")])],1)],1),t("br"),t("div",{staticClass:"l-button"},[t("el-button",{staticClass:"l-login",attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")])],1)],1)},a=[],o=(t("caad"),t("b0c0"),t("2532"),{name:"login",data:function(){return{username:"",password:"",level:"students"}},methods:{login:function(){var e=this;return""===this.username?this.$message.error("请输入用户名"):""===this.password?this.$message.error("请输入密码"):(this.loading(),void this.axios.post("/login",{username:this.username,password:this.password,level:this.level}).then((function(s){e.loaded.close();var t=s.data;0===t.status?(e.$message.success("登录成功，3秒后挑转~"),sessionStorage.setItem("routers",JSON.stringify(t.routers)),sessionStorage.setItem("token",t.token),sessionStorage.setItem("level",e.level),sessionStorage.setItem("id",t.id),sessionStorage.setItem("name",t.name),sessionStorage.setItem("username",e.username),sessionStorage.setItem("phone",t.phone),setTimeout((function(){var s=e.$router.prePath;"/"!==s&&"/register"!==s&&"/findPsw"!==s&&"/login"!==s&&s.includes(e.level)?e.$router.push("/"+e.$router.prePath):(console.log(location),e.$router.push("/"+e.level))}),3e3)):e.$message.error(t.message)}),(function(s){return e.$err(s)})))}},directives:{focus:{inserted:function(e){e.children[0].focus()}}}}),n=o,i=(t("f446"),t("2877")),l=Object(i["a"])(n,r,a,!1,null,"f7f82fd8",null);s["default"]=l.exports},cd0b:function(e,s,t){},f446:function(e,s,t){"use strict";var r=t("cd0b"),a=t.n(r);a.a}}]);
//# sourceMappingURL=chunk-5ff1f4ee.f40f45f6.js.map