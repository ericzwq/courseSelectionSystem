(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0efd18"],{"9a71":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{type:"index",index:t.computeIndex,label:"序号",width:"180"}}),a("el-table-column",{attrs:{prop:"studentName",label:"姓名",width:"180"}}),a("el-table-column",{attrs:{prop:"stuId",label:"学号"}}),a("el-table-column",{attrs:{prop:"courseName",label:"课程名"}}),a("el-table-column",{attrs:{prop:"score",label:"分数"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(-1===e.row.score?"暂无":e.row.score))])]}}])}),a("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[-1===e.row.score?a("el-button",{staticClass:"addScore",attrs:{size:"mini",type:"primary",plain:"","data-id":e.row.stuId},on:{click:function(a){return t.addScore(e.row)}}},[t._v("添加 ")]):a("el-button",{staticClass:"addScore",attrs:{size:"mini",plain:"",disabled:""}},[t._v("无 ")])]}}])})],1),a("el-pagination",{staticStyle:{float:"right"},attrs:{background:"",layout:"sizes,prev, pager, next,jumper","current-page":t.page,total:t.totalCount},on:{"current-change":t.pageChange,"size-change":t.countChange}})],1)},s=[],o={name:"stuScores",data:function(){return{tableData:[],totalCount:0,page:1,count:10}},created:function(){this.getData.call(this,"/teachers/stuScores",{page:this.page,count:this.count})},methods:{addScore:function(t){var e=this;this.$prompt("请输入分数(添加后不可修改)","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^[0-9]+$/,inputErrorMessage:"格式不正确",inputValidator:function(t){if(t<0||t>150)return"分数超过限制"}}).then((function(a){var n=a.value;e.$message({type:"success",message:"分数是: "+n}),e.loading(),e.axios.post("/teachers/addScore",{stuId:t.stuId,courseId:t.courseId,score:parseInt(n)}).then((function(a){t.score=parseInt(n),e.loaded.close()}),(function(t){return e.$err(t)}))})).catch((function(){e.$message({type:"info",message:"取消输入"})}))},pageChange:function(t){this.getData.call(this,"/teachers/stuScores",{page:t,count:this.count})},countChange:function(t){this.count=t,this.page=1,this.getData.call(this,"/teachers/stuScores",{page:1,count:t})},computeIndex:function(t){return(this.page-1)*this.count+t+1}}},r=o,c=a("2877"),u=Object(c["a"])(r,n,s,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0efd18.faf3f5a8.js.map