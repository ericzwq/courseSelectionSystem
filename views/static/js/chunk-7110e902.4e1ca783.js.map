{"version":3,"sources":["webpack:///./src/components/common/index.vue?61d5","webpack:///./src/components/common/index.vue?e354","webpack:///src/components/common/index.vue","webpack:///./src/components/common/index.vue?5437","webpack:///./src/components/common/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","formCollapse","scopedSlots","_u","key","fn","scope","ref","staticClass","style","height","isStu","_e","searchForm","slot","nativeOn","$event","type","indexOf","_k","keyCode","getChartData","model","value","callback","$$v","$set","trim","expression","on","_v","resetForm","_s","class","staticRenderFns","name","data","studentName","studentId","courseName","courseId","teacherName","teacherId","pieChart","barChart","chartData","title","url","chartsNames","created","sessionStorage","getItem","mounted","$nextTick","myChart","setOption","text","left","tooltip","trigger","legend","orient","series","resize","myChart2","color","axisPointer","grid","right","bottom","containLabel","xAxis","yAxis","methods","axios","get","status","refreshChart","$refs","formName","resetFields","formatChartData","sum","concat","$message","warning","component"],"mappings":"uIAAA,yBAA8d,EAAG,G,yCCAje,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,YAAY,CAACE,MAAM,CAAC,aAAeN,EAAIO,cAAcC,YAAYR,EAAIS,GAAG,CAAC,CAACC,IAAI,cAAcC,GAAG,SAASC,GAAO,MAAO,CAACR,EAAG,MAAM,CAACS,IAAI,UAAUC,YAAY,QAAQC,MAAM,CAAEC,OAAOJ,EAAMI,UAAWZ,EAAG,MAAM,CAACS,IAAI,WAAWC,YAAY,gBAAgB,CAAGd,EAAIiB,MAAwhHjB,EAAIkB,KAArhHd,EAAG,UAAU,CAACS,IAAI,aAAaC,YAAY,cAAcR,MAAM,CAAC,KAAO,OAAO,QAAS,EAAK,KAAO,OAAO,MAAQN,EAAImB,YAAYC,KAAK,QAAQ,CAAChB,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,MAAM,KAAO,gBAAgB,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,YAAc,SAAS,UAAY,IAAIe,SAAS,CAAC,QAAU,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQxB,EAAIyB,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOZ,IAAI,SAAkB,KAAcV,EAAI2B,aAAaL,KAAUM,MAAM,CAACC,MAAO7B,EAAImB,WAAsB,YAAEW,SAAS,SAAUC,GAAM/B,EAAIgC,KAAKhC,EAAImB,WAAY,cAA+B,kBAARY,EAAkBA,EAAIE,OAAQF,IAAOG,WAAW,6BAA6B,GAAG9B,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,KAAK,KAAO,cAAc,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,YAAc,QAAQ,UAAY,IAAIe,SAAS,CAAC,QAAU,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQxB,EAAIyB,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOZ,IAAI,SAAkB,KAAcV,EAAI2B,aAAaL,KAAUM,MAAM,CAACC,MAAO7B,EAAImB,WAAoB,UAAEW,SAAS,SAAUC,GAAM/B,EAAIgC,KAAKhC,EAAImB,WAAY,YAA6B,kBAARY,EAAkBA,EAAIE,OAAQF,IAAOG,WAAW,2BAA2B,GAAG9B,EAAG,eAAe,CAACU,YAAY,cAAcR,MAAM,CAAC,MAAQ,MAAM,KAAO,eAAe,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,YAAc,SAAS,UAAY,IAAIe,SAAS,CAAC,QAAU,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQxB,EAAIyB,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOZ,IAAI,SAAkB,KAAcV,EAAI2B,aAAaL,KAAUM,MAAM,CAACC,MAAO7B,EAAImB,WAAqB,WAAEW,SAAS,SAAUC,GAAM/B,EAAIgC,KAAKhC,EAAImB,WAAY,aAA8B,kBAARY,EAAkBA,EAAIE,OAAQF,IAAOG,WAAW,4BAA4B,GAAG9B,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,MAAM,KAAO,aAAa,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,YAAc,SAAS,UAAY,IAAIe,SAAS,CAAC,QAAU,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQxB,EAAIyB,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOZ,IAAI,SAAkB,KAAcV,EAAI2B,aAAaL,KAAUM,MAAM,CAACC,MAAO7B,EAAImB,WAAmB,SAAEW,SAAS,SAAUC,GAAM/B,EAAIgC,KAAKhC,EAAImB,WAAY,WAA4B,kBAARY,EAAkBA,EAAIE,OAAQF,IAAOG,WAAW,0BAA0B,GAAG9B,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,MAAM,KAAO,gBAAgB,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,YAAc,SAAS,UAAY,IAAIe,SAAS,CAAC,QAAU,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQxB,EAAIyB,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOZ,IAAI,SAAkB,KAAcV,EAAI2B,aAAaL,KAAUM,MAAM,CAACC,MAAO7B,EAAImB,WAAsB,YAAEW,SAAS,SAAUC,GAAM/B,EAAIgC,KAAKhC,EAAImB,WAAY,cAA+B,kBAARY,EAAkBA,EAAIE,OAAQF,IAAOG,WAAW,6BAA6B,GAAG9B,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,MAAM,KAAO,cAAc,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,YAAc,SAAS,UAAY,IAAIe,SAAS,CAAC,QAAU,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQxB,EAAIyB,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOZ,IAAI,SAAkB,KAAcV,EAAI2B,aAAaL,KAAUM,MAAM,CAACC,MAAO7B,EAAImB,WAAoB,UAAEW,SAAS,SAAUC,GAAM/B,EAAIgC,KAAKhC,EAAImB,WAAY,YAA6B,kBAARY,EAAkBA,EAAIE,OAAQF,IAAOG,WAAW,2BAA2B,GAAG9B,EAAG,eAAe,CAACU,YAAY,YAAY,CAACV,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAW6B,GAAG,CAAC,MAAQnC,EAAI2B,eAAe,CAAC3B,EAAIoC,GAAG,QAAQhC,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAW6B,GAAG,CAAC,MAAQ,SAASb,GAAQ,OAAOtB,EAAIqC,UAAU,iBAAiB,CAACrC,EAAIoC,GAAG,QAAQhC,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,QAAQ6B,GAAG,CAAC,MAAQ,SAASb,GAAQtB,EAAIO,cAAgBP,EAAIO,gBAAgB,CAACP,EAAIoC,GAAG,IAAIpC,EAAIsC,GAAGtC,EAAIO,aAAe,OAAS,MAAM,KAAKH,EAAG,IAAI,CAACmC,MAAM,CAACvC,EAAIO,aAAe,uBAAyB,0BAA0B,IAAI,IAAa,IACh4HiC,EAAkB,G,oCC8CtB,GACEC,KAAM,QACNC,KAFF,WAGI,MAAO,CACLnC,cAAc,EACdY,WAAY,CACVwB,YAAa,GACbC,UAAW,GACXC,WAAY,GACZC,SAAU,GACVC,YAAa,GACbC,UAAW,IAEbC,SAAU,KACVC,SAAU,KACVC,UAAW,GACXlC,OAAO,EACPmC,MAAO,SACPC,IAAK,kCACLC,YAAa,CAAC,OAAQ,UAAW,UAAW,UAAW,SAAU,UAGrEC,QAtBF,WAuB4C,aAApCC,eAAeC,QAAQ,WACzBxD,KAAKgB,OAAQ,EACbhB,KAAKmD,MAAQ,SACbnD,KAAKoD,IAAM,8BAGfK,QA7BF,WA6BA,WACIzD,KAAK0D,WAAU,WACb,IAAN,UACA,eACA,oBACA,mBACM,EAAN,WAEMC,EAAQC,UAAU,CAChBT,MAAO,CACLU,KAAM,EAAhB,MACUC,KAAM,UAERC,QAAS,CACPC,QAAS,QAEXC,OAAQ,CACNC,OAAQ,WACRJ,KAAM,QAERK,OAAQ,CAChB,CACU,KAAV,OACU,KAAV,MACU,OAAV,MACU,KAAV,GACU,SAAV,CACY,UAAZ,CACc,WAAd,GACc,cAAd,EACc,YAAd,2BAMMR,EAAQS,OAAO,CAArB,WACM,IAAN,+BACM,EAAN,WACMC,EAAST,UAAU,CACjBU,MAAO,OACPnB,MAAO,CACLU,KAAM,EAAhB,MACUC,KAAM,UAERC,QAAS,CACPC,QAAS,OACTO,YAAa,CACXjD,KAAM,WAGVkD,KAAM,CACJV,KAAM,KACNW,MAAO,KACPC,OAAQ,KACRC,cAAc,GAEhBC,MAAO,CACf,CACU,KAAV,WACU,KAAV,cACU,SAAV,CACY,gBAAZ,KAIQC,MAAO,CACf,CACU,KAAV,UAGQV,OAAQ,CAChB,CACU,KAAV,OACU,KAAV,MACU,SAAV,MACU,KAAV,OAIME,EAASD,OAAO,CAAtB,WACM,EAAN,mBAGEU,QAAS,CACPpD,aADJ,WACA,WACM1B,KAAK+E,MAAMC,IAAIhF,KAAKoD,IAAK,CAA/B,8DACQ,IAAR,SAC4B,IAAhBX,EAAKwC,SACT,EAAR,sBACQ,EAAR,oBAGIC,aATJ,WAUMlF,KAAKgD,SAASY,UAAU,CAA9B,8CACM5D,KAAKiD,SAASW,UAAU,CAA9B,+CAGIxB,UAdJ,SAcA,GACMpC,KAAKmF,MAAMC,GAAUC,eAEvBC,gBAjBJ,SAiBA,GAKM,IAJA,IAAN,KACA,iBACA,mBACA,IACA,wBACQ,IAAR,kBACQC,GAAO3D,EACM,QAATN,EACFmB,EAAOA,EAAK+C,OAAO5D,GAC7B,YACUa,EAAOA,EAAK+C,OAAO,CAA7B,qBAOM,OAJY,IAARD,IACF9C,EAAO,GACPzC,KAAKyF,SAASC,QAAQ,QAEjBjD,KCnMiV,I,wBCQ1VkD,EAAY,eACd,EACA7F,EACAyC,GACA,EACA,KACA,KACA,MAIa,aAAAoD,E","file":"static/js/chunk-7110e902.4e1ca783.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('my-layout',{attrs:{\"formCollapse\":_vm.formCollapse},scopedSlots:_vm._u([{key:\"tableLayout\",fn:function(scope){return [_c('div',{ref:\"echarts\",staticClass:\"chart\",style:({height:scope.height})}),_c('div',{ref:\"echarts2\",staticClass:\"chart\"})]}}])},[(!_vm.isStu)?_c('el-form',{ref:\"searchForm\",staticClass:\"search_form\",attrs:{\"slot\":\"form\",\"inline\":true,\"size\":\"mini\",\"model\":_vm.searchForm},slot:\"form\"},[_c('el-form-item',{attrs:{\"label\":\"学生名\",\"prop\":\"studentName\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入学生名\",\"clearable\":\"\"},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.getChartData($event)}},model:{value:(_vm.searchForm.studentName),callback:function ($$v) {_vm.$set(_vm.searchForm, \"studentName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchForm.studentName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"学号\",\"prop\":\"studentId\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入学号\",\"clearable\":\"\"},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.getChartData($event)}},model:{value:(_vm.searchForm.studentId),callback:function ($$v) {_vm.$set(_vm.searchForm, \"studentId\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchForm.studentId\"}})],1),_c('el-form-item',{staticClass:\"search-item\",attrs:{\"label\":\"课程名\",\"prop\":\"courseName\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入课程名\",\"clearable\":\"\"},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.getChartData($event)}},model:{value:(_vm.searchForm.courseName),callback:function ($$v) {_vm.$set(_vm.searchForm, \"courseName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchForm.courseName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"课程号\",\"prop\":\"courseId\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入课程号\",\"clearable\":\"\"},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.getChartData($event)}},model:{value:(_vm.searchForm.courseId),callback:function ($$v) {_vm.$set(_vm.searchForm, \"courseId\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchForm.courseId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"教师名\",\"prop\":\"teacherName\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入教师名\",\"clearable\":\"\"},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.getChartData($event)}},model:{value:(_vm.searchForm.teacherName),callback:function ($$v) {_vm.$set(_vm.searchForm, \"teacherName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchForm.teacherName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"教师号\",\"prop\":\"teacherId\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入教师号\",\"clearable\":\"\"},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.getChartData($event)}},model:{value:(_vm.searchForm.teacherId),callback:function ($$v) {_vm.$set(_vm.searchForm, \"teacherId\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchForm.teacherId\"}})],1),_c('el-form-item',{staticClass:\"form_btn\"},[_c('el-button',{attrs:{\"type\":\"default\"},on:{\"click\":_vm.getChartData}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"type\":\"default\"},on:{\"click\":function($event){return _vm.resetForm('searchForm')}}},[_vm._v(\"重置\")]),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.formCollapse = !_vm.formCollapse}}},[_vm._v(\" \"+_vm._s(_vm.formCollapse ? '查看更多' : '收起')+\" \"),_c('i',{class:[_vm.formCollapse ? 'el-icon-caret-bottom' : 'el-icon-caret-top']})])],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <my-layout :formCollapse=\"formCollapse\">\r\n    <el-form slot=\"form\" :inline=\"true\" size=\"mini\" ref=\"searchForm\" :model=\"searchForm\" class=\"search_form\"\r\n             v-if=\"!isStu\">\r\n      <el-form-item label=\"学生名\" prop=\"studentName\">\r\n        <el-input placeholder=\"请输入学生名\" clearable v-model.trim=\"searchForm.studentName\"\r\n                  @keydown.enter.native=\"getChartData\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"学号\" prop=\"studentId\">\r\n        <el-input placeholder=\"请输入学号\" clearable v-model.trim=\"searchForm.studentId\"\r\n                  @keydown.enter.native=\"getChartData\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"课程名\" class=\"search-item\" prop=\"courseName\">\r\n        <el-input placeholder=\"请输入课程名\" clearable v-model.trim=\"searchForm.courseName\"\r\n                  @keydown.enter.native=\"getChartData\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"课程号\" prop=\"courseId\">\r\n        <el-input placeholder=\"请输入课程号\" clearable v-model.trim=\"searchForm.courseId\"\r\n                  @keydown.enter.native=\"getChartData\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"教师名\" prop=\"teacherName\">\r\n        <el-input placeholder=\"请输入教师名\" clearable v-model.trim=\"searchForm.teacherName\"\r\n                  @keydown.enter.native=\"getChartData\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"教师号\" prop=\"teacherId\">\r\n        <el-input placeholder=\"请输入教师号\" clearable v-model.trim=\"searchForm.teacherId\"\r\n                  @keydown.enter.native=\"getChartData\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item class=\"form_btn\">\r\n        <el-button type=\"default\" @click=\"getChartData\">查询</el-button>\r\n        <el-button type=\"default\" @click=\"resetForm('searchForm')\">重置</el-button>\r\n        <el-button type=\"text\" @click=\"formCollapse = !formCollapse\">\r\n          {{ formCollapse ? '查看更多' : '收起' }}\r\n          <i :class=\"[formCollapse ? 'el-icon-caret-bottom' : 'el-icon-caret-top']\"></i>\r\n        </el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <template slot-scope=\"scope\" slot=\"tableLayout\">\r\n      <div class=\"chart\" ref=\"echarts\" :style=\"{height:scope.height}\"></div>\r\n      <div class=\"chart\" ref=\"echarts2\"></div>\r\n    </template>\r\n  </my-layout>\r\n</template>\r\n\r\n<script>\r\nimport * as echarts from 'echarts'\r\n\r\nexport default {\r\n  name: \"index\",\r\n  data() {\r\n    return {\r\n      formCollapse: false,\r\n      searchForm: {\r\n        studentName: '',\r\n        studentId: '',\r\n        courseName: '',\r\n        courseId: '',\r\n        teacherName: '',\r\n        teacherId: ''\r\n      },\r\n      pieChart: null,\r\n      barChart: null,\r\n      chartData: {},\r\n      isStu: true,\r\n      title: '我的成绩分布',\r\n      url: '/students/getGradeDistributions',\r\n      chartsNames: ['≥90分', '≤80<90分', '≤70<80分', '≤60<70分', '≤0<60分', '暂无成绩']\r\n    }\r\n  },\r\n  created() {\r\n    if (sessionStorage.getItem('level') !== 'students') {\r\n      this.isStu = false\r\n      this.title = '学生成绩分布'\r\n      this.url = '/getAllGradeDistributions'\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      let $refs = this.$refs\r\n      let echartsDom = $refs['echarts']\r\n      let height = echartsDom.clientHeight + 60\r\n      let myChart = echarts.init(echartsDom, 'dark')\r\n      this.pieChart = myChart\r\n      // 绘制图表\r\n      myChart.setOption({\r\n        title: {\r\n          text: this.title,\r\n          left: 'center'\r\n        },\r\n        tooltip: {\r\n          trigger: 'item'\r\n        },\r\n        legend: {\r\n          orient: 'vertical',\r\n          left: 'left',\r\n        },\r\n        series: [\r\n          {\r\n            name: '访问来源',\r\n            type: 'pie',\r\n            radius: '50%',\r\n            data: [],\r\n            emphasis: {\r\n              itemStyle: {\r\n                shadowBlur: 10,\r\n                shadowOffsetX: 0,\r\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      })\r\n      myChart.resize({height})\r\n      let myChart2 = echarts.init($refs['echarts2'], 'dark');\r\n      this.barChart = myChart2\r\n      myChart2.setOption({\r\n        color: 'blue',\r\n        title: {\r\n          text: this.title,\r\n          left: 'center'\r\n        },\r\n        tooltip: {\r\n          trigger: 'axis',\r\n          axisPointer: {            // 坐标轴指示器，坐标轴触发有效\r\n            type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'\r\n          }\r\n        },\r\n        grid: {\r\n          left: '3%',\r\n          right: '4%',\r\n          bottom: '3%',\r\n          containLabel: true\r\n        },\r\n        xAxis: [\r\n          {\r\n            type: 'category',\r\n            data: this.chartsNames,\r\n            axisTick: {\r\n              alignWithLabel: true\r\n            }\r\n          }\r\n        ],\r\n        yAxis: [\r\n          {\r\n            type: 'value'\r\n          }\r\n        ],\r\n        series: [\r\n          {\r\n            name: '直接访问',\r\n            type: 'bar',\r\n            barWidth: '60%',\r\n            data: []\r\n          }\r\n        ]\r\n      })\r\n      myChart2.resize({height})\r\n      this.getChartData() // 先初始化再获取数据\r\n    })\r\n  },\r\n  methods: {\r\n    getChartData() {\r\n      this.axios.get(this.url, {params: {...this.searchForm}}).then(r => {\r\n        let data = r.data\r\n        if (data.status !== 0) return\r\n        this.chartData = r.data.data\r\n        this.refreshChart()\r\n      })\r\n    },\r\n    refreshChart() {\r\n      this.pieChart.setOption({series: [{data: this.formatChartData('pie')}]})\r\n      this.barChart.setOption({series: [{data: this.formatChartData('bar')}]})\r\n    },\r\n    // 重置\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields()\r\n    },\r\n    formatChartData(type) {\r\n      let data = []\r\n      let chartData = this.chartData\r\n      let chartDataNames = this.chartsNames\r\n      let sum = 0\r\n      for (let i = 0, len = chartData.length; i < len; i++) {\r\n        let value = chartData[i]['level' + i]\r\n        sum += value\r\n        if (type === 'bar') {\r\n          data = data.concat(value)\r\n        } else if (type === 'pie') {\r\n          data = data.concat({value, name: chartDataNames[i]})\r\n        }\r\n      }\r\n      if (sum === 0) {\r\n        data = []\r\n        this.$message.warning('无数据')\r\n      }\r\n      return data\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.chart {\r\n  width: calc(50% - 5px);\r\n  min-width: 500px;\r\n  float: left;\r\n}\r\n\r\n.chart:last-of-type {\r\n  margin-left: 10px;\r\n}\r\n\r\n@media screen and (max-width: 1230px) {\r\n  /*宽度不够时*/\r\n  /*多出来的20内边距+10左边距*/\r\n  .chart {\r\n    width: 90%;\r\n    margin: 0 auto;\r\n    float: none;\r\n  }\r\n\r\n  .chart:last-of-type {\r\n    margin: 10px auto;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=69d1ac14&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}