(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2899c7d8"],{"076d":function(e,s,t){},2731:function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("form",{staticClass:"l-container"},[t("h1",{staticClass:"l-title"},[e._v("学生选课系统-登录")]),t("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"l-username",attrs:{placeholder:"请输入账号"},model:{value:e.username,callback:function(s){e.username=s},expression:"username"}}),t("el-input",{staticClass:"l-password",attrs:{placeholder:"请输入密码","show-password":""},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.login(s)}},model:{value:e.password,callback:function(s){e.password=s},expression:"password"}}),t("div",{staticClass:"l-radioBox"},[t("el-radio-group",{staticClass:"l-radio",model:{value:e.level,callback:function(s){e.level=s},expression:"level"}},[t("el-radio",{attrs:{label:"students"}},[e._v("学生")]),t("el-radio",{attrs:{label:"teachers"}},[e._v("教师")]),t("el-radio",{attrs:{label:"admins"}},[e._v("管理员")])],1),t("div",[t("router-link",{staticStyle:{"font-size":"14px"},attrs:{to:"/findPsw"}},[e._v("忘记密码？")]),t("router-link",{staticClass:"l-register",staticStyle:{"font-size":"14px"},attrs:{to:"/register"}},[e._v("注册")])],1)],1),t("br"),t("div",{staticClass:"l-button"},[t("el-button",{staticClass:"l-login",attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")])],1)],1)},r=[],n=(t("b0c0"),{name:"login",data:function(){return{username:"",password:"",level:"students"}},methods:{login:function(){var e=this;return""===this.username?this.$message.error("请输入用户名"):""===this.password?this.$message.error("请输入密码"):void this.axios.post("/login",{username:this.username,password:this.password,level:this.level}).then((function(s){var t=s.data;0===t.status?(e.$message.success("登录成功，3秒后挑转~"),sessionStorage.setItem("token",t.token),sessionStorage.setItem("level",e.level),sessionStorage.setItem("id",t.id),sessionStorage.setItem("name",t.name),sessionStorage.setItem("username",e.username),sessionStorage.setItem("phone",t.phone),setTimeout((function(){var s=e.$router.prePath;location.href="/"===s||"/register"===s||"/findPsw"===s||"/login"===s?location.origin+"/#/"+e.level:location.origin+"#"+e.$router.prePath}),3e3)):e.$message.error(t.message)}),(function(s){return e.$err(s)}))}},directives:{focus:{inserted:function(e){e.children[0].focus()}}}}),o=n,i=(t("4902"),t("2877")),l=Object(i["a"])(o,a,r,!1,null,"50c2a961",null);s["default"]=l.exports},4902:function(e,s,t){"use strict";var a=t("076d"),r=t.n(a);r.a}}]);
//# sourceMappingURL=chunk-2899c7d8.0a7dd1a4.js.map